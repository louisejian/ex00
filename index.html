<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>D3 Course</title>
     <script src="https://d3js.org/d3.v3.min.js"></script>
    <script  >
	 
	 
	 var random=function(N,M){
    N=N+1;
    return   Math.floor(Math.random()*(M-N+1) +N );
    
    
    
}
     </script>
    
	
 <style>
.SvgBackgroundColor{

 background-color:#fdf5e6;


}
</style>	
	
</head>

<body>
<svg width="900" height="400" id="svg3"></svg>

   <script>
 
       //不動產橫條圖結合數據csv
   d3.csv("invoice-taipei.csv", function(dataSet) {
	 
	 var svg3 = d3.select("#svg3"); 
	 var xScale = d3.scale.linear()
		.domain([0, 1000000000])
		.range([0, 10]);
       
     var fDataSet = dataSet.filter(function(d) {
        return d.amount > 1000000000 && d.date === "2016/8/1" && d.cid === "A";
     });
       
     for (var i = 0; i < fDataSet.length; i++ ) {
        svg3.append("text")
			.attr({
				"x": 10,
				"y": 55 + 30 * i })
			.text(fDataSet[i].industry);
		
		svg3.append("rect")
			.attr({
				"x": 350,
				"y": 33 + 30 * i,
				"width": xScale(fDataSet[i].amount),
				"height": 25,
				"fill": "#CA8EFF"
			});
			
		svg3.append("text")
			.attr({
				"x": 10+350+xScale(fDataSet[i].amount),
				"y": 55 + 30 * i })
			.text(fDataSet[i].amount);
	 } 
	}); 

    </script> 
</body>
</html>
